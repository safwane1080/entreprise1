<!DOCTYPE html>
<html lang="nl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Winkelmand | Art Equipment Rental</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>

<header class="topbar">
    <div class="topbar-inner">
        <div class="brand">
            <div class="logo"></div>
            <div>
                Art Equipment Rental
                <small>Reservatieplatform</small>
            </div>
        </div>

        <nav class="nav">
            <a th:href="@{/products}">Catalogus</a>
            <a th:href="@{/orders}">Mijn reservaties</a>
            <a th:href="@{/profile}">Profiel</a>
            <a th:href="@{/logout}">Logout</a>
        </nav>
    </div>
</header>

<main class="container">

    <div class="page-head">
        <h1>Winkelmand</h1>
        <p>Overzicht van je reservatie</p>
    </div>

    <div th:if="${#lists.isEmpty(items)}" class="card item">
        <p class="muted">Je winkelmand is leeg.</p>
    </div>

    <div class="list" th:if="${!#lists.isEmpty(items)}">

        <div class="card item" th:each="item : ${items}">
            <div class="item-line">
                <strong th:text="${item.product.name}"></strong>
                <span>€ <span th:text="${item.subtotal}"></span></span>
            </div>

            <p class="muted">
                <span th:text="${item.quantity}"></span> stuk(s) ·
                <span th:text="${item.days}"></span> dag(en) ·
                € <span th:text="${item.product.pricePerDay}"></span> / dag
            </p>
        </div>

        <!-- TOTAAL -->

        <div class="card item">
            <div class="item-line">
                <strong>Totaal</strong>
                <strong>€ <span th:text="${#numbers.formatDecimal(total, 1, 2)}"></span></strong>
            </div>
        </div>


        <div class="actions">

            <a th:href="@{/products}" class="btn-ghost">
                ← Terug naar catalogus
            </a>

            <form th:action="@{/checkout}" method="post" class="card item" style="margin-top:14px;">

                <label for="startDate">Startdatum reservatie</label>
                <input type="date"
                       id="startDate"
                       name="startDate"
                       required
                       th:attr="min=${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}"
                       style="margin-top:8px;"/>


                <div class="actions" style="margin-top:12px;">
                    <button class="btn">Reservatie bevestigen</button>
                </div>

            </form>

        </div>


    </div>

</main>

</body>
</html>
