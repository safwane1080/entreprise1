<!DOCTYPE html>
<html lang="nl" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Mijn reservaties | Art Equipment Rental EHB</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>

<header class="topbar">
  <div class="topbar-inner">
    <div class="brand">
      <div class="logo"></div>
      <div>
        Art Equipment Rental EHB
        <small>Mijn reservaties</small>
      </div>
    </div>

    <nav class="nav">
      <a th:href="@{/products}">Catalogus</a>
      <a th:href="@{/cart}">Winkelmand</a>
      <a th:href="@{/orders}" class="active">Mijn reservaties</a>
      <a th:href="@{/logout}">Logout</a>
    </nav>
  </div>
</header>

<main class="container">

  <div class="page-head">
    <div>
      <h1>Mijn reservaties</h1>
      <p>Overzicht van je materiaalreservaties</p>
    </div>
  </div>
    <div class="actions" style="margin-bottom:16px;">
        <a th:href="@{/products}" class="btn-ghost">
            ← Terug naar catalogus
        </a>
    </div>

  <div th:if="${#lists.isEmpty(orders)}" class="card item">
    <p class="muted">Je hebt nog geen reservaties geplaatst.</p>
  </div>

  <div class="list" th:if="${!#lists.isEmpty(orders)}">

    <div class="card item" th:each="order : ${orders}">
      <div class="item-line">
        <div>
          <strong>Reservatie #<span th:text="${order.id}"></span></strong>
            <div class="muted" style="font-size:13px;">
                <span th:text="${#temporals.format(order.startDate, 'dd/MM')}"></span>
                →
                <span th:text="${#temporals.format(order.endDate, 'dd/MM')}"></span>
            </div>

        </div>
          <div class="muted" style="font-size:13px;">
              Periode:
              <span th:text="${#temporals.format(order.startDate, 'dd/MM/yyyy')}"></span>
              →
              <span th:text="${#temporals.format(order.endDate, 'dd/MM/yyyy')}"></span>
          </div>

        <span th:switch="${order.status}">
                    <span th:case="'BEVESTIGD'" class="status-badge status-confirmed">
                        Bevestigd
                    </span>
                    <span th:case="'OPGEHAALD'" class="status-badge status-active">
                        Opgehaald
                    </span>
                    <span th:case="'TERUGGEBRACHT'" class="status-badge status-done">
                        Teruggebracht
                    </span>
                    <span th:case="*" class="status-badge status-default">
                        <span th:text="${order.status}"></span>
                    </span>
                </span>
      </div>

      <p class="muted" style="margin-top:10px;">
        <strong>Totaal:</strong>
        € <span th:text="${order.totalPrice}"></span>
      </p>

      <div style="margin-top:12px;">
        <a th:href="@{/orders/{id}(id=${order.id})}"
           class="btn btn-secondary">
          Bekijk details
        </a>
      </div>

    </div>
      <div th:if="${error}" class="alert alert-error">
          <p th:text="${error}"></p>
      </div>

  </div>

</main>

</body>
</html>
